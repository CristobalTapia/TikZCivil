%
\documentclass[11pt,letterpaper,oneside]{book}
\usepackage[left=3cm,right=2cm,top=1cm,bottom=1.5cm,includeheadfoot]{geometry}
\usepackage[english]{babel}
%\usepackage[latin1]{inputenc}
\usepackage[utf8x]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{lmodern}
\usepackage{subfig}
\usepackage{listings}
\usepackage{emp}
\usepackage{graphicx}
\usepackage{fancyhdr}
\usepackage{verbatim}   % Comentarios multilinea
\usepackage{tabularx}
\usepackage{booktabs}
\usepackage{ifsym}
\usepackage{float}
\usepackage[font=small]{caption}
\setlength{\parindent}{1cm}
\usepackage{tikz}
%+++++++++++++++++++++++++++++++
% Se importa la libreria
%+++++++++++++++++++++++++++++++
\usepackage{../tikzcivil}

\begin{document}

\begin{titlepage}
  \title{Documentation for the use of the \emph{tikzcivil} package}
  \author{Cristóbal Tapia\\
    \texttt{crtapia@gmail.com}
  }
  \date{\today}
  \maketitle
\end{titlepage}

\tableofcontents

\lstdefinestyle{customasm}{
  belowcaptionskip=1\baselineskip,
  frame=single,
  xleftmargin=\parindent,
  language=teX,
  basicstyle=\small\ttfamily,
  commentstyle=\itshape\color{green!40!black},
  keywordstyle=\bfseries\color{blue},
  identifierstyle=\color{black},
  stringstyle=\color{purple},
  stepnumber=1,
  tabsize=2,
  breaklines=true,
}
\lstset{style=customasm, numbers=left, texcl=true}

\chapter{Drawing for the Structural Analysis}
\section{Commands}

\subsection{\texttt{\textbackslash Support} command}
This command is used to generate different types of supports, like fixed, pined or sliding supports. They can also be rotated.\\

\begin{figure}[!ht]
  \centering
  \begin{tikzpicture}[scale=1]
    \Support[width = 1cm, type=fixed]
    \Support[position={2cm,0cm}, angle=0, width = 1cm, type=pinned]
    \Support[position={4cm,0cm}, angle=0, width = 1cm, type=sliding]
    \Support[position={6cm,0cm}, angle=0, width = 1cm, type=fixedsliding]
  \end{tikzpicture}
  \caption{Different supports available}
  \label{fig:supports}
\end{figure}

\begin{table}[!h]
  \centering
  \caption{Options for the \texttt{\textbackslash Support} command}
  \begin{tabular}{l p{9cm} |c}\toprule
    Option & Description & default \\\midrule
    \texttt{widht}  & defines de width of the support & \textbf{1cm}                                              \\
    \texttt{position} & (tuple) defines the position of the support & \textbf{\{0,0\}}          \\
    \texttt{type} & defines the type of support. Alternatives: \texttt{fixed, pinned, sliding, fixedsliding} & \textbf{fixed} \\
    \texttt{angle} & ratation in degrees of the support (counterclockwise) & \textbf{0}\\\bottomrule
  \end{tabular}
  \label{tab:supportOptions}
\end{table}



\subsection{\texttt{\textbackslash MassWithSpring} command}
This command draws a typical mass-spring system. It supports also an optional damper and displacement. The basic behavior of this command is shown in fig. \ref{fig:MassWithSpring}. \\
\begin{figure}[!htp]
  \centering
  \begin{tikzpicture}[scale=1]
    \MassWithSpring[]
  \end{tikzpicture}
  \caption{Mass-Spring system}
  \label{fig:MassWithSpring}
\end{figure}

\begin{lstlisting}[firstnumber=1]
\begin{tikzpicture}[scale=1]
    \MassWithSpring[]
\end{tikzpicture}
\end{lstlisting}

More interesting behaviours can be achieved using the optional key values, as shown in fig (\ref{fig:MassWithSpring2}).\\
\begin{figure}[!ht]
  \centering
  \begin{tikzpicture}[scale=1]
    \MassWithSpring[displacement = 2em, with damper = true]
    \MassWithSpring[displacement = -1em,  with wall = false, position = {10.5em,0em}]
    \MassWithSpring[displacement = 3em,  with wall = false, position = {18.0em,0em}]
  \end{tikzpicture}
  \caption{More complex mass-spring system}
  \label{fig:MassWithSpring2}
\end{figure}

\begin{lstlisting}[firstnumber=1]
\begin{tikzpicture}[scale=1]
    \MassWithSpring[displacement = 2em, with damper = true]
    \MassWithSpring[displacement = -1em,  with wall = false, position = {10.5em,0em}]
    \MassWithSpring[displacement = 3em,  with wall = false, position = {18.0em,0em}]
\end{tikzpicture}
\end{lstlisting}


\subsection{\texttt{\textbackslash Frame} command}
Thus command draws a frame with its mass concentrated above. It is a very common model to describe later a multi-story building in 2D. This command has many options, useful to change the displacement, position, use of supports, damper, among others. In the fig. \ref{fig:frame1} can be seen the normal output of the command without any options.\\
\begin{figure}[!ht]
  \centering
  \begin{tikzpicture}[scale=1.0]
    \Frame[]
  \end{tikzpicture}
  \caption{Using the \textbackslash Frame command with defaults options.}
  \label{fig:frame1}
\end{figure}

\begin{lstlisting}[firstnumber=1]
\begin{tikzpicture}[scale=1]
    \Frame[]
\end{tikzpicture}
\end{lstlisting}

The available options to pass to this command are listed below. The default options are shown in \textbf{bold} at the end of each description.\par
\begin{table}[!h]
  \centering
  \caption{Options for the \texttt{\textbackslash Frame} command}
  \begin{tabular}{l p{9cm} |c}\toprule
    Option & Description & default \\\midrule
    \texttt{height} & defines the height of the frame/story & \textbf{4cm}                                      \\
    \texttt{widht}  & defines de width of the frame & \textbf{4cm}                                              \\
    \texttt{mass thickness} & defines the thickness of the concentrated mass & \textbf{0.4cm}                   \\
    \texttt{position} & (tuple) defines the position of the base of the left column & \textbf{\{0,0\}}          \\
    \texttt{with support} & boolean option, that allows to show supports or not & \textbf{true}                 \\
    \texttt{with damper} & boolean option, that defines the presence of a damper in the system & \textbf{false} \\
    \texttt{displacement} & defines the amount of horizontal displacement on the top of the frame & \textbf{0cm}\\\bottomrule
  \end{tabular}
  \label{tab:frameOptions}
\end{table}

\begin{figure}[!ht]
  \centering
  \subfloat[  ]{%
    \begin{tikzpicture}[scale=0.6]
      \Frame[position = {0cm,0em}, height = 6cm]
      \Frame[position = {0cm,6cm},height = 4cm, with support = false]
      \Frame[position = {0cm,10cm},height = 4cm, with support = false]
    \end{tikzpicture}
  }
  \qquad
  \subfloat[  ]{%
    \begin{tikzpicture}[scale=0.6]
      \Frame[position = {0em,0em}, displacement = 0.15cm]
      \Frame[position = {0.15cm,4cm}, with support = false, displacement = 1.35cm]
      \Frame[position = {1.5cm,8cm}, with support = false, displacement = 3.4cm]
    \end{tikzpicture}
  }

  \label{fig:rigi1}
\end{figure}

\begin{lstlisting}[firstnumber=1, title=Dibujo izquierdo]
\begin{tikzpicture}[scale=0.6]
  \Frame[position = {0em,0em}]
  \Frame[position = {0em,10em}, with support = false]
  \Frame[position = {0em,20em}, with support = false]
\end{tikzpicture}
\end{lstlisting}

\begin{lstlisting}[firstnumber=1, title=Dibujo derecho]
\begin{tikzpicture}[scale=0.6]
  \Frame[position = {0em,0em}, displacement = 0.15em]
  \Frame[position = {0.15em,10em}, with support = false,
  displacement = 1.35em]
  \Frame[position = {1.5em,20em}, with support = false,
  displacement = 3.4em]
\end{tikzpicture}
\end{lstlisting}


\chapter{Dibujos relacionados con la mecánica de suelos}

\end{document}


